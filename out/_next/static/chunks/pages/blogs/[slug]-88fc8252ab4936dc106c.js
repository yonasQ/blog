(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[196],{8043:function(t,n,e){"use strict";e.d(n,{fh:function(){return u},q:function(){return l},IU:function(){return f},xJ:function(){return d},ej:function(){return h},sM:function(){return p},m3:function(){return j},uf:function(){return m},$D:function(){return g},gF:function(){return b},c0:function(){return y}});var r=e(4301),o=e.n(r),c=e(6808),i=e.n(c),s=e(1163),a=e(2025),u=function(t){401==t.status?(console.log("1"),m((function(){s.default.push({pathname:"/signin",query:{message:"Your session is expired. please signin."}})}))):console.log("3")},l=function(t){return o()("".concat(a.bl,"/pre-signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){return t}))},f=function(t){return o()("".concat(a.bl,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){return t}))},d=function(t){return o()("".concat(a.bl,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){return t}))},h=function(t){return i().get(t)},p=function(t,n){localStorage.setItem(t,JSON.stringify(n))},j=function(t,n){var e,r;e="token",r=t.token,i().set(e,r,{expires:1}),p("user",t.user),n()},m=function(t){var n;return n="token",i().remove(n,{expires:1}),function(t){localStorage.removeItem(t)}("user"),t(),o()("".concat(a.bl,"/signout"),{method:"GET"}).then((function(t){return t.json()})).catch((function(t){return t}))},g=function(){if(h("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},b=function(t){return o()("".concat(a.bl,"/forgot-password"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:t})}).then((function(t){return t.json()})).catch((function(t){return t}))},y=function(t){return o()("".concat(a.bl,"/reset-password"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){return t}))}},8975:function(t,n,e){"use strict";e.d(n,{Vh:function(){return u},r4:function(){return l},Ch:function(){return f},qH:function(){return d},pb:function(){return h},T7:function(){return p},zZ:function(){return j},mx:function(){return m}});var r,o=e(4301),c=e.n(o),i=e(2025),s=e(7563),a=e(8043);(0,a.$D)()&&1==(0,a.$D)().role?r="".concat(i.bl):(0,a.$D)()&&0==(0,a.$D)().role&&(r="".concat(i.bl,"/user"));var u=function(t,n){return c()("".concat(r,"/blog"),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},body:t}).then((function(t){return(0,a.fh)(t),t.json()})).catch((function(t){return t}))},l=function(t,n){var e={skip:t,limit:n};return c()("".concat(i.bl,"/blogs-catagories-tags"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.json()})).catch((function(t){return t}))},f=function(t){return c()("".concat(i.bl,"/blog/").concat(t),{method:"GET"}).then((function(t){return t.json()})).catch((function(t){return t}))},d=function(t){return c()("".concat(i.bl,"/blog/related"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).catch((function(t){return t}))},h=function(t){var n=t?"".concat(i.bl,"/").concat(t):"".concat(i.bl);return c()("".concat(n,"/blog"),{method:"GET"}).then((function(t){return t.json()})).catch((function(t){return t}))},p=function(t,n){return c()("".concat(r,"/blog/").concat(t),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(t){return(0,a.fh)(t),t.json()})).catch((function(t){return t}))},j=function(t,n,e){return c()("".concat(r,"/blog/").concat(e),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},body:t}).then((function(t){return(0,a.fh)(t),t.json()})).catch((function(t){return t}))},m=function(t){var n=s.stringify(t);return c()("".concat(i.bl,"/blogs/search?").concat(n),{method:"GET"}).then((function(t){return t.json()})).catch((function(t){return t}))}},6616:function(t,n,e){"use strict";e.d(n,{Z:function(){return w}});var r=e(5893),o=e(7294),c=e(2025),i=e(1664),s=e(4865),a=e.n(s),u=e(9544),l=e(6992),f=e(5614),d=e(627),h=e(7243),p=e(3999),j=e(8008),m=e(8043),g=e(1163),b=e(6156),y=e(8975);function x(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?x(Object(e),!0).forEach((function(n){(0,b.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):x(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var O=(0,g.withRouter)((function(t){var n=t.router,e=(0,o.useState)({search:void 0,results:[],searched:!1,message:""}),c=e[0],s=e[1],a=c.search,u=c.searched,l=c.results,f=c.message;(0,o.useEffect)((function(){s(v(v({},c),{},{searched:!1,search:""}))}),[n]);var d=function(t){t.preventDefault(),(0,y.mx)({search:a}).then((function(t){s(v(v({},c),{},{results:t.blogs,searched:!0,message:"".concat(t.blogs.length," blogs found.")}))}))},h=function(t){s(v(v({},c),{},{search:t.target.value,searched:!1,result:[]}))};return(0,r.jsxs)("div",{className:"container-fluid",children:[(0,r.jsx)("div",{className:"pt-3 pb-3",children:(0,r.jsx)("form",{onSubmit:d,children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsx)("input",{type:"search",className:"form-control",value:a,onChange:h,placeholder:"search blogs"})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("button",{className:"btn btn-outline-primary btn-block",type:"submit",children:"Search"})})]})})}),u&&(0,r.jsx)("div",{style:{marginTop:"-80px",marginBottom:"-80px"},children:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.jsxs)("div",{className:"jumbotron bg-white",children:[f&&(0,r.jsx)("p",{className:"pt-4 text-muted font-italic",children:f}),t.map((function(t,n){return(0,r.jsx)("div",{children:(0,r.jsx)(i.default,{href:"/blogs/".concat(t.slug),children:(0,r.jsx)("a",{className:"text-primary",children:t.title})})},n)}))]})}(l)})]})}));g.default.onRouteChangeStart=function(t){return a().start()},g.default.onRouteChangeComplete=function(t){return a().done()},g.default.onRouteChangeError=function(t){return a().done()};var N=function(t){var n=(0,o.useState)(!1),e=n[0],s=n[1];return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(u.Z,{color:"light",light:!0,expand:"md",children:[(0,r.jsx)(i.default,{href:"/",children:(0,r.jsx)(l.Z,{className:"font-weight-bold",style:{cursor:"pointer"},children:c.iC})}),(0,r.jsx)(f.Z,{onClick:function(){return s(!e)}}),(0,r.jsx)(d.Z,{isOpen:e,navbar:!0,children:(0,r.jsxs)(h.Z,{className:"ml-auto",navbar:!0,children:[(0,r.jsx)(p.Z,{children:(0,r.jsx)(i.default,{href:"/blogs",children:(0,r.jsx)(j.Z,{style:{cursor:"pointer"},children:"blogs"})})}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(i.default,{href:"/Contact",children:(0,r.jsx)(j.Z,{style:{cursor:"pointer"},children:"Contact"})})}),!(0,m.$D)()&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(p.Z,{children:(0,r.jsx)(i.default,{href:"/signin",children:(0,r.jsx)(j.Z,{style:{cursor:"pointer"},children:"signin"})})}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(i.default,{href:"/signup",children:(0,r.jsx)(j.Z,{style:{cursor:"pointer"},children:"signup"})})})]}),(0,m.$D)()&&1==(0,m.$D)().role&&(0,r.jsx)(p.Z,{children:(0,r.jsx)(i.default,{href:"/admin",children:(0,r.jsx)(j.Z,{style:{cursor:"pointer"},children:"".concat((0,m.$D)().name,"'s Dashboard")})})}),(0,m.$D)()&&0==(0,m.$D)().role&&(0,r.jsx)(p.Z,{children:(0,r.jsx)(i.default,{href:"/user",children:(0,r.jsx)(j.Z,{style:{cursor:"pointer"},children:"".concat((0,m.$D)().name,"'s Dashboard")})})}),(0,m.$D)()&&(0,r.jsx)(p.Z,{children:(0,r.jsx)(j.Z,{onClick:function(){(0,m.uf)((function(){g.default.replace("/signin")}))},style:{cursor:"pointer"},children:"signout"})})]})})]}),(0,r.jsx)(O,{})]})},w=function(t){var n=t.children;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(N,{}),n]})}},2025:function(t,n,e){"use strict";e.d(n,{bl:function(){return r},yK:function(){return o},iC:function(){return c},CT:function(){return i}});var r="https://quest-blog.herokuapp.com/api",o="http://localhost:3000",c="SEOBLOG",i="blog-7690exkuju"},5162:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return Z}});var r=e(5893),o=e(9008),c=e(1664),i=e(6616),s=e(7294),a=e(8975),u=e(381),l=e.n(u),f=e(8341),d=e.n(f),h=e(2025),p=function(t){var n=t.blog;return(0,r.jsxs)("div",{className:"card",children:[(0,r.jsx)("section",{children:(0,r.jsx)(c.default,{href:"/blogs/".concat(n.slug),children:JSON.stringify(n.photo)?(0,r.jsx)("img",{src:"".concat(h.bl,"/blog/photo/").concat(n.slug),alt:"".concat(n.title),style:{height:"250px",width:"100%"},className:"img img-fliud"}):""})}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("section",{children:[(0,r.jsx)(c.default,{href:"/blogs/".concat(n.slug),children:(0,r.jsx)("a",{children:(0,r.jsx)("h5",{className:"card-title",style:{textTransform:"capitalize"},children:n.title})})}),(0,r.jsx)("p",{className:"card-text",children:d()(n.excerpt)})]})}),(0,r.jsxs)("div",{className:"card-body",children:["Posted ",l()(n.createdAt).fromNow()," by "," ",(0,r.jsx)(c.default,{href:"".concat(n.postedBy.profile),children:(0,r.jsx)("a",{className:"float-right",children:n.postedBy.username})})]})]})},j=e(6156),m=e(9756);function g(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function b(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t,n){return(y=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function x(t){return(x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var v=e(3349);function O(t,n){return!n||"object"!==x(n)&&"function"!==typeof n?(0,v.Z)(t):n}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var w=e(4155);function S(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function P(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?S(Object(e),!0).forEach((function(n){(0,j.Z)(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):S(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function C(t){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var e,r=N(t);if(n){var o=N(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return O(this,e)}}var T=h.CT,D=h.yK;function _(){if(void 0===window.DISQUS){var t=document.createElement("script");t.async=!0,t.src="https://"+T+".disqus.com/embed.js",document.getElementsByTagName("head")[0].appendChild(t)}else window.DISQUS.reset({reload:!0})}var k=function(t){!function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&y(t,n)}(i,t);var n,e,o,c=C(i);function i(){return g(this,i),c.apply(this,arguments)}return n=i,(e=[{key:"shouldComponentUpdate",value:function(t){return this.props.id!==t.id||this.props.title!==t.title||this.props.path!==t.path}},{key:"componentDidMount",value:function(){_()}},{key:"componentDidUpdate",value:function(){_()}},{key:"render",value:function(){var t=this.props,n=t.id,e=t.title,o=t.path,c=function(t,n){if(null==t)return{};var e,r,o=(0,m.Z)(t,n);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(r=0;r<c.length;r++)e=c[r],n.indexOf(e)>=0||Object.prototype.propertyIsEnumerable.call(t,e)&&(o[e]=t[e])}return o}(t,["id","title","path"]);return w.env.BROWSER&&(window.disqus_shortname=T,window.disqus_identifier=n,window.disqus_title=e,window.disqus_url=D+o),(0,r.jsx)("div",P(P({},c),{},{id:"disqus_thread"}))}}])&&b(n.prototype,e),o&&b(n,o),i}(s.Component),E=function(t){var n=t.blog,e=t.query,u=(0,s.useState)([]),f=u[0],j=u[1];(0,s.useEffect)((function(){!function(){var t={_id:n._id,catagories:n.catagories};(0,a.qH)({relate:t}).then((function(t){t.err&&console.log(err),j(t.blogs)}))}()}),[]);return(0,r.jsxs)(s.Fragment,{children:[n&&(0,r.jsxs)(o.default,{children:[(0,r.jsxs)("title",{children:[n.title," | ",h.iC]}),(0,r.jsx)("meta",{name:"description",content:n.mdesc}),(0,r.jsx)("link",{rel:"canonical",href:"".concat(h.yK,"/blogs/").concat(e.slug)}),(0,r.jsx)("meta",{property:"og:title",content:"".concat(n.title," | ").concat(h.iC)}),(0,r.jsx)("meta",{property:"og:description",content:n.mdesc}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("link",{property:"og:url",href:"".concat(h.yK,"/blogs/").concat(e.slug)}),(0,r.jsx)("link",{property:"og:site_name",href:"".concat(h.iC)}),(0,r.jsx)("link",{property:"og:image",href:"".concat(h.bl,"/blog/photo/").concat(n.slug)}),(0,r.jsx)("link",{property:"og:image:secure_url",href:"".concat(h.bl,"/blog/photo/").concat(n.slug)}),(0,r.jsx)("link",{property:"og:image:type",href:"image/jpg"})]}),n&&(0,r.jsx)(i.Z,{children:(0,r.jsx)("main",{children:(0,r.jsx)("article",{children:(0,r.jsxs)("div",{className:"container-fluid",children:[(0,r.jsx)("section",{children:(0,r.jsx)("div",{className:"row",children:JSON.stringify(n.photo)?(0,r.jsx)("img",{style:{width:"100%"},src:"".concat(h.bl,"/blog/photo/").concat(n.slug),alt:"".concat(n.title),className:"img img-fluid featured-image"}):""})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("section",{children:[(0,r.jsx)("h1",{className:"display-2 pt-3 pb-3 text-center",children:n.title}),(0,r.jsxs)("p",{className:"lead mark mt-3",children:["Written by ",(0,r.jsx)(c.default,{href:"".concat(n.postedBy.profile),children:(0,r.jsx)("a",{children:n.postedBy.username})})," | Published ",l()(n.updatedAt).fromNow()]}),(0,r.jsxs)("div",{className:"pb-3",children:[n&&n.catagories.map((function(t,n){return(0,r.jsx)(c.default,{href:"/catagories/".concat(t.slug),children:(0,r.jsx)("a",{className:"btn btn-primary ml-1 mr-1 mt-3",children:t.name})},n)})),n&&n.tags.map((function(t,n){return(0,r.jsx)(c.default,{href:"/tags/".concat(t.slug),children:(0,r.jsx)("a",{className:"btn btn-outline-primary ml-1 mr-1 mt-3",children:t.name})},n)})),(0,r.jsx)("br",{}),(0,r.jsx)("br",{})]})]})}),(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("section",{children:(0,r.jsx)("div",{className:"col-md-12 lead blog-body",children:d()(n.body)})})}),(0,r.jsxs)("div",{className:"container pb-5",children:[(0,r.jsx)("h4",{className:"text-center pt-5 pb-5 h2",children:"Related Blogs"}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"row",children:["  ",f.map((function(t,n){return(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("article",{children:(0,r.jsx)(p,{blog:t})})},n)}))]})]}),(0,r.jsx)("div",{className:"container pb-5",children:(0,r.jsx)("div",{children:(0,r.jsx)(k,{id:n._id,title:n.title,path:"/blogs/".concat(n.slug)})})})]})})})})]})};E.getInitialProps=function(t){var n=t.query;return(0,a.Ch)(n.slug).then((function(t){if(!t.err)return{blog:t.blog,query:n};console.log(t.err)}))};var Z=E},4200:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/blogs/[slug]",function(){return e(5162)}])},2361:function(){},4616:function(){}},function(t){t.O(0,[774,885,769,764,242,888,179],(function(){return n=4200,t(t.s=n);var n}));var n=t.O();_N_E=n}]);