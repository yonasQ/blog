(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[711],{8043:function(e,n,t){"use strict";t.d(n,{fh:function(){return u},q:function(){return l},IU:function(){return f},xJ:function(){return p},ej:function(){return h},sM:function(){return d},m3:function(){return b},uf:function(){return g},$D:function(){return j},gF:function(){return m},c0:function(){return y}});var r=t(4301),o=t.n(r),c=t(6808),s=t.n(c),i=t(1163),a=t(2025),u=function(e){401==e.status&&g((function(){i.default.push({pathname:"/signin",query:{message:"Your session is expired. please signin."}})}))},l=function(e){return o()("".concat(a.bl,"/pre-signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return e}))},f=function(e){return o()("".concat(a.bl,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return e}))},p=function(e){return o()("".concat(a.bl,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return e}))},h=function(e){return s().get(e)},d=function(e,n){localStorage.setItem(e,JSON.stringify(n))},b=function(e,n){var t,r;t="token",r=e.token,s().set(t,r,{expires:1}),d("user",e.user),n()},g=function(e){var n;return n="token",s().remove(n,{expires:1}),function(e){localStorage.removeItem(e)}("user"),e(),o()("".concat(a.bl,"/signout"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))},j=function(){if(h("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},m=function(e){return o()("".concat(a.bl,"/forgot-password"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:e})}).then((function(e){return e.json()})).catch((function(e){return e}))},y=function(e){return o()("".concat(a.bl,"/reset-password"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return e}))}},8975:function(e,n,t){"use strict";t.d(n,{Vh:function(){return u},r4:function(){return l},Ch:function(){return f},qH:function(){return p},pb:function(){return h},T7:function(){return d},zZ:function(){return b},mx:function(){return g}});var r,o=t(4301),c=t.n(o),s=t(2025),i=t(7563),a=t(8043);(0,a.$D)()&&1==(0,a.$D)().role?r="".concat(s.bl):(0,a.$D)()&&0==(0,a.$D)().role&&(r="".concat(s.bl,"/user"));var u=function(e,n){return c()("".concat(r,"/blog"),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},body:e}).then((function(e){return(0,a.fh)(e),e.json()})).catch((function(e){return e}))},l=function(e,n){var t={skip:e,limit:n};return c()("".concat(s.bl,"/blogs-catagories-tags"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return e}))},f=function(e){return c()("".concat(s.bl,"/blog/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))},p=function(e){return c()("".concat(s.bl,"/blog/related"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){return e}))},h=function(e){var n=e?"".concat(s.bl,"/").concat(e):"".concat(s.bl);return c()("".concat(n,"/blog"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))},d=function(e,n){return c()("".concat(r,"/blog/").concat(e),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return(0,a.fh)(e),e.json()})).catch((function(e){return e}))},b=function(e,n,t){return c()("".concat(r,"/blog/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},body:e}).then((function(e){return(0,a.fh)(e),e.json()})).catch((function(e){return e}))},g=function(e){var n=i.stringify(e);return c()("".concat(s.bl,"/blogs/search?").concat(n),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))}},6616:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(5893),o=t(7294),c=t(2025),s=t(1664),i=t(4865),a=t.n(i),u=t(9544),l=t(6992),f=t(5614),p=t(627),h=t(7243),d=t(3999),b=t(8008),g=t(8043),j=t(1163),m=t(6156),y=t(8975);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,m.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var x=(0,j.withRouter)((function(e){var n=e.router,t=(0,o.useState)({search:void 0,results:[],searched:!1,message:""}),c=t[0],i=t[1],a=c.search,u=c.searched,l=c.results,f=c.message;(0,o.useEffect)((function(){i(v(v({},c),{},{searched:!1,search:""}))}),[n]);var p=function(e){e.preventDefault(),(0,y.mx)({search:a}).then((function(e){i(v(v({},c),{},{results:e.blogs,searched:!0,message:"".concat(e.blogs.length," blogs found.")}))}))},h=function(e){i(v(v({},c),{},{search:e.target.value,searched:!1,result:[]}))};return(0,r.jsxs)("div",{className:"container-fluid",children:[(0,r.jsx)("div",{className:"pt-3 pb-3",children:(0,r.jsx)("form",{onSubmit:p,children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsx)("input",{type:"search",className:"form-control",value:a,onChange:h,placeholder:"search blogs"})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("button",{className:"btn btn-outline-primary btn-block",type:"submit",children:"Search"})})]})})}),u&&(0,r.jsx)("div",{style:{marginTop:"-80px",marginBottom:"-80px"},children:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.jsxs)("div",{className:"jumbotron bg-white",children:[f&&(0,r.jsx)("p",{className:"pt-4 text-muted font-italic",children:f}),e.map((function(e,n){return(0,r.jsx)("div",{children:(0,r.jsx)(s.default,{href:"/blogs/".concat(e.slug),children:(0,r.jsx)("a",{className:"text-primary",children:e.title})})},n)}))]})}(l)})]})}));j.default.onRouteChangeStart=function(e){return a().start()},j.default.onRouteChangeComplete=function(e){return a().done()},j.default.onRouteChangeError=function(e){return a().done()};var P=function(e){var n=(0,o.useState)(!1),t=n[0],i=n[1];return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(u.Z,{color:"light",light:!0,expand:"md",children:[(0,r.jsx)(s.default,{href:"/",children:(0,r.jsx)(l.Z,{className:"font-weight-bold",style:{cursor:"pointer"},children:c.iC})}),(0,r.jsx)(f.Z,{onClick:function(){return i(!t)}}),(0,r.jsx)(p.Z,{isOpen:t,navbar:!0,children:(0,r.jsxs)(h.Z,{className:"ml-auto",navbar:!0,children:[(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.default,{href:"/blogs",children:(0,r.jsx)(b.Z,{style:{cursor:"pointer"},children:"blogs"})})}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.default,{href:"/Contact",children:(0,r.jsx)(b.Z,{style:{cursor:"pointer"},children:"Contact"})})}),!(0,g.$D)()&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.default,{href:"/signin",children:(0,r.jsx)(b.Z,{style:{cursor:"pointer"},children:"signin"})})}),(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.default,{href:"/signup",children:(0,r.jsx)(b.Z,{style:{cursor:"pointer"},children:"signup"})})})]}),(0,g.$D)()&&1==(0,g.$D)().role&&(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.default,{href:"/admin",children:(0,r.jsx)(b.Z,{style:{cursor:"pointer"},children:"".concat((0,g.$D)().name,"'s Dashboard")})})}),(0,g.$D)()&&0==(0,g.$D)().role&&(0,r.jsx)(d.Z,{children:(0,r.jsx)(s.default,{href:"/user",children:(0,r.jsx)(b.Z,{style:{cursor:"pointer"},children:"".concat((0,g.$D)().name,"'s Dashboard")})})}),(0,g.$D)()&&(0,r.jsx)(d.Z,{children:(0,r.jsx)(b.Z,{onClick:function(){(0,g.uf)((function(){j.default.replace("/signin")}))},style:{cursor:"pointer"},children:"signout"})})]})})]}),(0,r.jsx)(x,{})]})},w=function(e){var n=e.children;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(P,{}),n]})}},2025:function(e,n,t){"use strict";t.d(n,{bl:function(){return r},yK:function(){return o},iC:function(){return c},CT:function(){return s}});var r="https://quest-blog.herokuapp.com/api",o="http://localhost:3000",c="SEOBLOG",s="blog-7690exkuju"},9626:function(e,n,t){"use strict";t.r(n);var r=t(5893),o=t(6156),c=t(7294),s=t(3686),i=t(8043),a=t(6616);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.default=function(){var e=(0,c.useState)({email:"",message:"",error:"",showForm:!0}),n=e[0],t=e[1],u=n.error,f=n.email,p=n.showForm,h=n.message,d=(0,c.useState)(!0),b=d[0],g=d[1],j=function(){g(!1)},m=function(e){e.preventDefault(),t(l(l({},n),{},{message:"",error:""})),(0,i.gF)(f).then((function(e){e.err?(g(!0),t(l(l({},n),{},{error:e.err,message:""}))):t(l(l({},n),{},{error:"",message:e.message,showForm:!1,email:""}))}))};return(0,r.jsx)(c.Fragment,{children:(0,r.jsx)(a.Z,{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"row",children:(0,r.jsxs)("div",{className:"col-md-8 offset-md-2",children:[(0,r.jsx)("h2",{children:"Forgot Password"}),(0,r.jsx)("br",{}),u?(0,r.jsx)(s.Z,{color:"danger",isOpen:b,toggle:j,children:u}):"",h?(0,r.jsx)(s.Z,{color:"success",isOpen:b,toggle:j,children:h}):"",p&&function(){return(0,r.jsxs)("form",{onSubmit:m,children:[(0,r.jsx)("div",{className:"form-group pt-3",children:(0,r.jsx)("input",{type:"email",value:f,onChange:(e="email",function(r){var c;t(l(l({},n),{},(c={error:!1},(0,o.Z)(c,e,r.target.value),(0,o.Z)(c,"message",""),c)))}),className:"form-control",placeholder:"Type your email"})}),(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Send password reset link"})]});var e}()]})})})})})}},4352:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/password/forgot",function(){return t(9626)}])},3686:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(2122),o=t(9756),c=t(6156),s=t(7294),i=t(5697),a=t.n(i),u=t(4184),l=t.n(u),f=t(3663),p=t(4317);function h(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?h(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var b=d(d({},p.Transition.propTypes),{},{children:a().oneOfType([a().arrayOf(a().node),a().node]),tag:f.iC,baseClass:a().string,baseClassActive:a().string,className:a().string,cssModule:a().object,innerRef:a().oneOfType([a().object,a().string,a().func])}),g=d(d({},p.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:f.wF.Fade,appear:!0,enter:!0,exit:!0,in:!0});function j(e){var n=e.tag,t=e.baseClass,c=e.baseClassActive,i=e.className,a=e.cssModule,u=e.children,h=e.innerRef,d=(0,o.Z)(e,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),b=(0,f.ei)(d,f.rb),g=(0,f.CE)(d,f.rb);return s.createElement(p.Transition,b,(function(e){var o="entered"===e,p=(0,f.mx)(l()(i,t,o&&c),a);return s.createElement(n,(0,r.Z)({className:p},g,{ref:h}),u)}))}j.propTypes=b,j.defaultProps=g;var m=j;function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,c.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var v={children:a().node,className:a().string,closeClassName:a().string,closeAriaLabel:a().string,cssModule:a().object,color:a().string,fade:a().bool,isOpen:a().bool,toggle:a().func,tag:f.iC,transition:a().shape(m.propTypes),innerRef:a().oneOfType([a().object,a().string,a().func])},x={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:O(O({},m.defaultProps),{},{unmountOnExit:!0})};function P(e){var n=e.className,t=e.closeClassName,c=e.closeAriaLabel,i=e.cssModule,a=e.tag,u=e.color,p=e.isOpen,h=e.toggle,d=e.children,b=e.transition,g=e.fade,j=e.innerRef,y=(0,o.Z)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),v=(0,f.mx)(l()(n,"alert","alert-"+u,{"alert-dismissible":h}),i),x=(0,f.mx)(l()("close",t),i),P=O(O(O({},m.defaultProps),b),{},{baseClass:g?b.baseClass:"",timeout:g?b.timeout:0});return s.createElement(m,(0,r.Z)({},y,P,{tag:a,className:v,in:p,role:"alert",innerRef:j}),h?s.createElement("button",{type:"button",className:x,"aria-label":c,onClick:h},s.createElement("span",{"aria-hidden":"true"},"\xd7")):null,d)}P.propTypes=v,P.defaultProps=x;var w=P}},function(e){e.O(0,[774,769,888,179],(function(){return n=4352,e(e.s=n);var n}));var n=e.O();_N_E=n}]);