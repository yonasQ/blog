_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"/P0P":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return l}));var r=n("LpSC"),c=n.n(r),o=n("obyI"),a=n("iuBY"),i=function(e,t){return c()("".concat(o.a,"/catagory"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(a.k)(e),e.json()})).catch((function(e){return e}))},s=function(){return c()("".concat(o.a,"/catagories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))},u=function(e,t){return c()("".concat(o.a,"/catagory/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return Object(a.k)(e),e.json()})).catch((function(e){return e}))},l=function(e){return c()("".concat(o.a,"/catagory/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))}},COs2:function(e,t,n){"use strict";var r=n("nKUr"),c=n("20a2"),o=n.n(c),a=n("q1tI"),i=n.n(a),s=n("iuBY");t.a=function(e){var t=e.children;return Object(a.useEffect)((function(){Object(s.d)()?1!=Object(s.d)().role&&o.a.push("/"):o.a.push("/signin")}),[]),Object(r.jsx)(i.a.Fragment,{children:t})}},KIoS:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),c=n("ezhv"),o=n("COs2"),a=n("rePB"),i=n("q1tI"),s=n.n(i),u=n("iuBY"),l=n("/P0P");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var j=function(){var e=Object(i.useState)({name:"",error:!1,success:!1,catagories:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=t.name,o=t.error,a=t.success,d=t.catagories,j=t.removed,b=t.reload,m=Object(u.c)("token");Object(i.useEffect)((function(){O()}),[b]);var O=function(){Object(l.b)().then((function(e){e.err?console.log(err):n(f(f({},t),{},{catagories:e.catagories}))}))},h=function(e){p(e)},p=function(e){window.confirm("Are you sure you want to delete this catagory?")&&Object(l.d)(e,m).then((function(e){e.err?n(f(f({},t),{},{error:e.err})):n(f(f({},t),{},{reload:!b,removed:!0,error:!1,success:!1}))}))},g=function(e){n(f(f({},t),{},{name:e.target.value,error:!1,success:!1,removed:""}))},y=function(e){e.preventDefault(),Object(l.a)({name:c},m).then((function(e){e.err?n(f(f({},t),{},{error:e.err,reload:!1})):n(f(f({},t),{},{error:!1,success:!0,name:"",reload:!b,removed:!1}))}))};return Object(r.jsxs)(s.a.Fragment,{children:[function(){if(a)return Object(r.jsx)("p",{className:"text-success",children:"New catagory is created. "})}(),function(){if(o)return Object(r.jsx)("p",{className:"text-danger",children:"Catagory already exists."})}(),function(){if(j)return Object(r.jsx)("p",{className:"text-danger",children:"Catagory is removed"})}(),Object(r.jsxs)("div",{onMouseMove:function(){n(f(f({},t),{},{success:"",error:"",removed:""}))},children:[Object(r.jsxs)("form",{onSubmit:y,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{className:"text-muted",children:"Name"}),Object(r.jsx)("input",{type:"text",className:"form-control",value:c,onChange:g,required:!0})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]}),d.map((function(e,t){return Object(r.jsx)("button",{onDoubleClick:function(){h(e.slug)},title:"double click to delete",style:{textTransform:"capitalize"},className:"btn btn-outline-primary ml-1 mr-1 mt-3",children:e.name},t)}))]})]})},b=n("SMr6");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){Object(a.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=function(){var e=Object(i.useState)({name:"",error:!1,success:!1,tags:[],removed:!1,reload:!1}),t=e[0],n=e[1],c=t.name,o=t.error,a=t.success,l=t.tags,d=t.removed,f=t.reload,j=Object(u.c)("token");Object(i.useEffect)((function(){m()}),[f]);var m=function(){Object(b.c)().then((function(e){e.err?console.log(err):n(O(O({},t),{},{tags:e.tags}))}))},h=function(e){p(e)},p=function(e){window.confirm("Are you sure you want to delete this tag?")&&Object(b.d)(e,j).then((function(e){e.err?n(O(O({},t),{},{error:e.err})):n(O(O({},t),{},{reload:!f,removed:!0,error:!1,success:!1}))}))},g=function(e){n(O(O({},t),{},{name:e.target.value,error:!1,success:!1,removed:""}))},y=function(e){e.preventDefault(),Object(b.a)({name:c},j).then((function(e){e.err?n(O(O({},t),{},{error:e.err,reload:!1})):n(O(O({},t),{},{error:!1,success:!0,name:"",reload:!f,removed:!1}))}))};return Object(r.jsxs)(s.a.Fragment,{children:[function(){if(a)return Object(r.jsx)("p",{className:"text-success",children:"New tag is created. "})}(),function(){if(o)return Object(r.jsx)("p",{className:"text-danger",children:"Tag already exists."})}(),function(){if(d)return Object(r.jsx)("p",{className:"text-danger",children:"Tag is removed"})}(),Object(r.jsxs)("div",{onMouseMove:function(){n(O(O({},t),{},{success:"",error:"",removed:""}))},children:[Object(r.jsxs)("form",{onSubmit:y,children:[Object(r.jsxs)("div",{className:"form-group",children:[Object(r.jsx)("label",{className:"text-muted",children:"Name"}),Object(r.jsx)("input",{type:"text",className:"form-control",value:c,onChange:g,required:!0})]}),Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]}),l.map((function(e,t){return Object(r.jsx)("button",{onDoubleClick:function(){h(e.slug)},title:"double click to delete",style:{textTransform:"capitalize"},className:"btn btn-outline-primary ml-1 mr-1 mt-3",children:e.name},t)}))]})]})};t.default=function(){return Object(r.jsx)(c.a,{children:Object(r.jsx)(o.a,{children:Object(r.jsx)("div",{className:"container-fluid",children:Object(r.jsxs)("div",{className:"row pb-5",children:[Object(r.jsx)("div",{className:"col-md-12 pt-5 pb-5",children:Object(r.jsx)("h1",{children:"Manage Catagories and Tags"})}),Object(r.jsxs)("div",{className:"col-md-6",children:[Object(r.jsx)("p",{children:"Catagories"}),Object(r.jsx)(j,{})]}),Object(r.jsxs)("div",{className:"col-md-6",children:[Object(r.jsx)("p",{children:"Tags"}),Object(r.jsx)(h,{})]})]})})})})}},SMr6:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n("LpSC"),c=n.n(r),o=n("obyI"),a=n("iuBY"),i=function(e,t){return c()("".concat(o.a,"/tag"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(a.k)(e),e.json()})).catch((function(e){return e}))},s=function(){return c()("".concat(o.a,"/tags"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))},u=function(e,t){return c()("".concat(o.a,"/tag/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return Object(a.k)(e),e.json()})).catch((function(e){return e}))},l=function(e){return c()("".concat(o.a,"/tag/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))}},eioz:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/catagory-tag",function(){return n("KIoS")}])}},[["eioz",1,0,2,3]]]);