_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[20],{"/P0P":function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i})),r.d(t,"c",(function(){return u}));var n=r("LpSC"),c=r.n(n),o=r("obyI"),a=r("iuBY"),s=function(e,t){return c()("".concat(o.a,"/catagory"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(a.k)(e),e.json()})).catch((function(e){return e}))},i=function(){return c()("".concat(o.a,"/catagories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))},u=function(e,t){return c()("".concat(o.a,"/catagory/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return Object(a.k)(e),e.json()})).catch((function(e){return e}))}},COs2:function(e,t,r){"use strict";var n=r("nKUr"),c=r("20a2"),o=r.n(c),a=r("q1tI"),s=r.n(a),i=r("iuBY");t.a=function(e){var t=e.children;return Object(a.useEffect)((function(){Object(i.d)()?1!=Object(i.d)().role&&o.a.push("/"):o.a.push("/signin")}),[]),Object(n.jsx)(s.a.Fragment,{children:t})}},KIoS:function(e,t,r){"use strict";r.r(t);var n=r("nKUr"),c=r("ezhv"),o=r("COs2"),a=r("rePB"),s=r("q1tI"),i=r.n(s),u=r("iuBY"),l=r("/P0P");function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var f=function(){var e=Object(s.useState)({name:"",error:!1,success:!1,catagories:[],removed:!1,reload:!1}),t=e[0],r=e[1],c=t.name,o=t.error,a=t.success,d=t.catagories,f=t.removed,b=t.reload,m=Object(u.c)("token");Object(s.useEffect)((function(){O()}),[b]);var O=function(){Object(l.b)().then((function(e){e.err?console.log(err):r(j(j({},t),{},{catagories:e.catagories}))}))},h=function(e){p(e)},p=function(e){window.confirm("Are you sure you want to delete this catagory?")&&Object(l.c)(e,m).then((function(e){e.err?r(j(j({},t),{},{error:e.err})):r(j(j({},t),{},{reload:!b,removed:!0,error:!1,success:!1}))}))},g=function(e){r(j(j({},t),{},{name:e.target.value,error:!1,success:!1,removed:""}))},y=function(e){e.preventDefault(),Object(l.a)({name:c},m).then((function(e){e.err?r(j(j({},t),{},{error:e.err,reload:!1})):r(j(j({},t),{},{error:!1,success:!0,name:"",reload:!b,removed:!1}))}))};return Object(n.jsxs)(i.a.Fragment,{children:[function(){if(a)return Object(n.jsx)("p",{className:"text-success",children:"New catagory is created. "})}(),function(){if(o)return Object(n.jsx)("p",{className:"text-danger",children:"Catagory already exists."})}(),function(){if(f)return Object(n.jsx)("p",{className:"text-danger",children:"Catagory is removed"})}(),Object(n.jsxs)("div",{onMouseMove:function(){r(j(j({},t),{},{success:"",error:"",removed:""}))},children:[Object(n.jsxs)("form",{onSubmit:y,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",value:c,onChange:g,required:!0})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]}),d.map((function(e,t){return Object(n.jsx)("button",{onDoubleClick:function(){h(e.slug)},title:"double click to delete",style:{textTransform:"capitalize"},className:"btn btn-outline-primary ml-1 mr-1 mt-3",children:e.name},t)}))]})]})},b=r("SMr6");function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){Object(a.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var h=function(){var e=Object(s.useState)({name:"",error:!1,success:!1,tags:[],removed:!1,reload:!1}),t=e[0],r=e[1],c=t.name,o=t.error,a=t.success,l=t.tags,d=t.removed,j=t.reload,f=Object(u.c)("token");Object(s.useEffect)((function(){m()}),[j]);var m=function(){Object(b.c)().then((function(e){e.err?console.log(err):r(O(O({},t),{},{tags:e.tags}))}))},h=function(e){p(e)},p=function(e){window.confirm("Are you sure you want to delete this tag?")&&Object(b.d)(e,f).then((function(e){e.err?r(O(O({},t),{},{error:e.err})):r(O(O({},t),{},{reload:!j,removed:!0,error:!1,success:!1}))}))},g=function(e){r(O(O({},t),{},{name:e.target.value,error:!1,success:!1,removed:""}))},y=function(e){e.preventDefault(),Object(b.a)({name:c},f).then((function(e){e.err?r(O(O({},t),{},{error:e.err,reload:!1})):r(O(O({},t),{},{error:!1,success:!0,name:"",reload:!j,removed:!1}))}))};return Object(n.jsxs)(i.a.Fragment,{children:[function(){if(a)return Object(n.jsx)("p",{className:"text-success",children:"New tag is created. "})}(),function(){if(o)return Object(n.jsx)("p",{className:"text-danger",children:"Tag already exists."})}(),function(){if(d)return Object(n.jsx)("p",{className:"text-danger",children:"Tag is removed"})}(),Object(n.jsxs)("div",{onMouseMove:function(){r(O(O({},t),{},{success:"",error:"",removed:""}))},children:[Object(n.jsxs)("form",{onSubmit:y,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{className:"text-muted",children:"Name"}),Object(n.jsx)("input",{type:"text",className:"form-control",value:c,onChange:g,required:!0})]}),Object(n.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create"})]}),l.map((function(e,t){return Object(n.jsx)("button",{onDoubleClick:function(){h(e.slug)},title:"double click to delete",style:{textTransform:"capitalize"},className:"btn btn-outline-primary ml-1 mr-1 mt-3",children:e.name},t)}))]})]})};t.default=function(){return Object(n.jsx)(c.a,{children:Object(n.jsx)(o.a,{children:Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("div",{className:"col-md-12 pt-5 pb-5",children:Object(n.jsx)("h1",{children:"Manage Catagories and Tags"})}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("p",{children:"Catagories"}),Object(n.jsx)(f,{})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("p",{children:"Tags"}),Object(n.jsx)(h,{})]})]})})})})}},SMr6:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"c",(function(){return i})),r.d(t,"d",(function(){return u})),r.d(t,"b",(function(){return l}));var n=r("LpSC"),c=r.n(n),o=r("obyI"),a=r("iuBY"),s=function(e,t){return c()("".concat(o.a,"/tag"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)},body:JSON.stringify(e)}).then((function(e){return Object(a.k)(e),e.json()})).catch((function(e){return e}))},i=function(){return c()("".concat(o.a,"/tags"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))},u=function(e,t){return c()("".concat(o.a,"/tag/").concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return Object(a.k)(e),e.json()})).catch((function(e){return e}))},l=function(e){return c()("".concat(o.a,"/tag/").concat(e),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return e}))}},eioz:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/crud/catagory-tag",function(){return r("KIoS")}])}},[["eioz",1,0,2,3]]]);