(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{8043:function(n,e,t){"use strict";t.d(e,{fh:function(){return u},q:function(){return l},IU:function(){return f},xJ:function(){return h},ej:function(){return d},sM:function(){return p},m3:function(){return m},uf:function(){return j},$D:function(){return g},gF:function(){return b},c0:function(){return x}});var r=t(4301),o=t.n(r),c=t(6808),s=t.n(c),i=t(1163),a=t(2025),u=function(n){401==n.status&&j((function(){i.default.push({pathname:"/signin",query:{message:"Your session is expired. please signin."}})}))},l=function(n){return o()("".concat(a.bl,"/pre-signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return n}))},f=function(n){return o()("".concat(a.bl,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return n}))},h=function(n){return o()("".concat(a.bl,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return n}))},d=function(n){return s().get(n)},p=function(n,e){localStorage.setItem(n,JSON.stringify(e))},m=function(n,e){var t,r;t="token",r=n.token,s().set(t,r,{expires:1}),p("user",n.user),e()},j=function(n){var e;return e="token",s().remove(e,{expires:1}),function(n){localStorage.removeItem(n)}("user"),n(),o()("".concat(a.bl,"/signout"),{method:"GET"}).then((function(n){return n.json()})).catch((function(n){return n}))},g=function(){if(d("token"))return!!localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user"))},b=function(n){return o()("".concat(a.bl,"/forgot-password"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:n})}).then((function(n){return n.json()})).catch((function(n){return n}))},x=function(n){return o()("".concat(a.bl,"/reset-password"),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return n}))}},8975:function(n,e,t){"use strict";t.d(e,{Vh:function(){return u},r4:function(){return l},Ch:function(){return f},qH:function(){return h},pb:function(){return d},T7:function(){return p},zZ:function(){return m},mx:function(){return j}});var r,o=t(4301),c=t.n(o),s=t(2025),i=t(7563),a=t(8043);(0,a.$D)()&&1==(0,a.$D)().role?r="".concat(s.bl):(0,a.$D)()&&0==(0,a.$D)().role&&(r="".concat(s.bl,"/user"));var u=function(n,e){return c()("".concat(r,"/blog"),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)},body:n}).then((function(n){return(0,a.fh)(n),n.json()})).catch((function(n){return n}))},l=function(n,e){var t={skip:n,limit:e};return c()("".concat(s.bl,"/blogs-catagories-tags"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(n){return n.json()})).catch((function(n){return n}))},f=function(n){return c()("".concat(s.bl,"/blog/").concat(n),{method:"GET"}).then((function(n){return n.json()})).catch((function(n){return n}))},h=function(n){return c()("".concat(s.bl,"/blog/related"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(n){return n.json()})).catch((function(n){return n}))},d=function(n){var e=n?"".concat(s.bl,"/").concat(n):"".concat(s.bl);return c()("".concat(e,"/blog"),{method:"GET"}).then((function(n){return n.json()})).catch((function(n){return n}))},p=function(n,e){return c()("".concat(r,"/blog/").concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(e)}}).then((function(n){return(0,a.fh)(n),n.json()})).catch((function(n){return n}))},m=function(n,e,t){return c()("".concat(r,"/blog/").concat(t),{method:"PUT",headers:{Accept:"application/json",Authorization:"Bearer ".concat(e)},body:n}).then((function(n){return(0,a.fh)(n),n.json()})).catch((function(n){return n}))},j=function(n){var e=i.stringify(n);return c()("".concat(s.bl,"/blogs/search?").concat(e),{method:"GET"}).then((function(n){return n.json()})).catch((function(n){return n}))}},6616:function(n,e,t){"use strict";t.d(e,{Z:function(){return w}});var r=t(5893),o=t(7294),c=t(2025),s=t(1664),i=t(4865),a=t.n(i),u=t(9544),l=t(6992),f=t(5614),h=t(627),d=t(7243),p=t(3999),m=t(8008),j=t(8043),g=t(1163),b=t(6156),x=t(8975);function y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function v(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?y(Object(t),!0).forEach((function(e){(0,b.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var O=(0,g.withRouter)((function(n){var e=n.router,t=(0,o.useState)({search:void 0,results:[],searched:!1,message:""}),c=t[0],i=t[1],a=c.search,u=c.searched,l=c.results,f=c.message;(0,o.useEffect)((function(){i(v(v({},c),{},{searched:!1,search:""}))}),[e]);var h=function(n){n.preventDefault(),(0,x.mx)({search:a}).then((function(n){i(v(v({},c),{},{results:n.blogs,searched:!0,message:"".concat(n.blogs.length," blogs found.")}))}))},d=function(n){i(v(v({},c),{},{search:n.target.value,searched:!1,result:[]}))};return(0,r.jsxs)("div",{className:"container-fluid",children:[(0,r.jsx)("div",{className:"pt-3 pb-3",children:(0,r.jsx)("form",{onSubmit:h,children:(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-8",children:(0,r.jsx)("input",{type:"search",className:"form-control",value:a,onChange:d,placeholder:"search blogs"})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsx)("button",{className:"btn btn-outline-primary btn-block",type:"submit",children:"Search"})})]})})}),u&&(0,r.jsx)("div",{style:{marginTop:"-80px",marginBottom:"-80px"},children:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.jsxs)("div",{className:"jumbotron bg-white",children:[f&&(0,r.jsx)("p",{className:"pt-4 text-muted font-italic",children:f}),n.map((function(n,e){return(0,r.jsx)("div",{children:(0,r.jsx)(s.default,{href:"/blogs/".concat(n.slug),children:(0,r.jsx)("a",{className:"text-primary",children:n.title})})},e)}))]})}(l)})]})}));g.default.onRouteChangeStart=function(n){return a().start()},g.default.onRouteChangeComplete=function(n){return a().done()},g.default.onRouteChangeError=function(n){return a().done()};var N=function(n){var e=(0,o.useState)(!1),t=e[0],i=e[1];return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsxs)(u.Z,{color:"light",light:!0,expand:"md",children:[(0,r.jsx)(s.default,{href:"/",children:(0,r.jsx)(l.Z,{className:"font-weight-bold",style:{cursor:"pointer"},children:c.iC})}),(0,r.jsx)(f.Z,{onClick:function(){return i(!t)}}),(0,r.jsx)(h.Z,{isOpen:t,navbar:!0,children:(0,r.jsxs)(d.Z,{className:"ml-auto",navbar:!0,children:[(0,r.jsx)(p.Z,{children:(0,r.jsx)(s.default,{href:"/blogs",children:(0,r.jsx)(m.Z,{style:{cursor:"pointer"},children:"blogs"})})}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(s.default,{href:"/Contact",children:(0,r.jsx)(m.Z,{style:{cursor:"pointer"},children:"Contact"})})}),!(0,j.$D)()&&(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(p.Z,{children:(0,r.jsx)(s.default,{href:"/signin",children:(0,r.jsx)(m.Z,{style:{cursor:"pointer"},children:"signin"})})}),(0,r.jsx)(p.Z,{children:(0,r.jsx)(s.default,{href:"/signup",children:(0,r.jsx)(m.Z,{style:{cursor:"pointer"},children:"signup"})})})]}),(0,j.$D)()&&1==(0,j.$D)().role&&(0,r.jsx)(p.Z,{children:(0,r.jsx)(s.default,{href:"/admin",children:(0,r.jsx)(m.Z,{style:{cursor:"pointer"},children:"".concat((0,j.$D)().name,"'s Dashboard")})})}),(0,j.$D)()&&0==(0,j.$D)().role&&(0,r.jsx)(p.Z,{children:(0,r.jsx)(s.default,{href:"/user",children:(0,r.jsx)(m.Z,{style:{cursor:"pointer"},children:"".concat((0,j.$D)().name,"'s Dashboard")})})}),(0,j.$D)()&&(0,r.jsx)(p.Z,{children:(0,r.jsx)(m.Z,{onClick:function(){(0,j.uf)((function(){g.default.replace("/signin")}))},style:{cursor:"pointer"},children:"signout"})})]})})]}),(0,r.jsx)(O,{})]})},w=function(n){var e=n.children;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(N,{}),e]})}},2025:function(n,e,t){"use strict";t.d(e,{bl:function(){return r},yK:function(){return o},iC:function(){return c},CT:function(){return s}});var r="https://quest-blog.herokuapp.com/api",o="http://localhost:3000",c="SEOBLOG",s="blog-7690exkuju"},2949:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return h}});var r=t(5893),o=t(6616),c=t(6156),s=t(7294),i=t(8043),a=t(6955);function u(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?u(Object(t),!0).forEach((function(e){(0,c.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var f=function(){var n=(0,s.useState)({name:"",email:"",password:"",loading:!1,showForm:!0,error:"",message:""}),e=n[0],t=n[1];(0,s.useEffect)((function(){(0,i.$D)()&&Router.push("/")}),[]);var o=e.name,u=e.email,f=e.password,h=e.error,d=e.loading,p=e.message,m=e.showForm,j=function(n){n.preventDefault(),t(l(l({},e),{},{loading:!0,error:!1}));var r={name:o,email:u,password:f};(0,i.q)(r).then((function(n){n.err?t(l(l({},e),{},{error:n.err,loading:!1})):t(l(l({},e),{},{name:"",email:"",password:"",loading:!1,showForm:!1,error:"",message:n.message}))}))},g=function(n){return function(r){t(l(l({},e),{},(0,c.Z)({error:!1},n,r.target.value)))}};return(0,r.jsxs)(s.Fragment,{children:[d?(0,r.jsxs)("div",{className:" text-center",children:["  ",(0,r.jsx)(a.Z,{color:"primary"})]}):"",p?(0,r.jsx)("div",{className:"alert alert-info",children:p}):"",h?(0,r.jsx)("div",{className:"alert alert-danger",children:h}):"",m&&(0,r.jsxs)("form",{onSubmit:j,children:[(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{onChange:g("name"),value:o,type:"text",className:"form-control",placeholder:"type your name"})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{onChange:g("email"),value:u,type:"email",className:"form-control",placeholder:"type your email"})}),(0,r.jsx)("div",{className:"form-group",children:(0,r.jsx)("input",{onChange:g("password"),value:f,type:"password",className:"form-control",placeholder:"type your password"})}),(0,r.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Signup"})]})]})},h=function(){return(0,r.jsx)(o.Z,{children:(0,r.jsxs)("div",{className:"container-fluid",children:[(0,r.jsx)("h2",{className:"text-center pt-4 pb-4",children:"signup"}),(0,r.jsx)("div",{className:"row",children:(0,r.jsx)("div",{className:"col-md-6 offset-md-3",children:(0,r.jsx)(f,{})})})]})})}},8971:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return t(2949)}])},6955:function(n,e,t){"use strict";var r=t(2122),o=t(9756),c=t(7294),s=t(5697),i=t.n(s),a=t(4184),u=t.n(a),l=t(3663),f={tag:l.iC,type:i().string,size:i().string,color:i().string,className:i().string,cssModule:i().object,children:i().string},h=function(n){var e=n.className,t=n.cssModule,s=n.type,i=n.size,a=n.color,f=n.children,h=n.tag,d=(0,o.Z)(n,["className","cssModule","type","size","color","children","tag"]),p=(0,l.mx)(u()(e,!!i&&"spinner-"+s+"-"+i,"spinner-"+s,!!a&&"text-"+a),t);return c.createElement(h,(0,r.Z)({role:"status"},d,{className:p}),f&&c.createElement("span",{className:(0,l.mx)("sr-only",t)},f))};h.propTypes=f,h.defaultProps={tag:"div",type:"border",children:"Loading..."},e.Z=h}},function(n){n.O(0,[774,769,888,179],(function(){return e=8971,n(n.s=e);var e}));var e=n.O();_N_E=e}]);